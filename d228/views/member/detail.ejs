<!DOCTYPE html>
<html lang="en">

<head>
	<%- include ("../include/declare.ejs") %>

    <script src="/js/jquery.form.min.js"></script>
	<script src="/js/woogong/list_table.js"></script>
	<script src="/js/woogong/form_checker.js"></script>
    <script src="/js/page/member_detail.js"></script>

	<script>
		let payPopup = false;
		const pay = () => {
			if (!payPopup) {
				const html = `<div
            style="width: 500px; background-color: lightgray; padding: 2rem;"
          >
            <div style="display: flex; justify-content: space-between;">
              <span style="margin: 0; color: black;">회비 납부</span>
              <input style="width: 150px;" type="date" />
              <input style="width: 150px;" type="number" placeholder="금액" />
            </div>
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: center;
                margin-top: 2rem;
              "
            >
              <button class="btn btn-primary">저장</button>
            </div>
          </div>`;
				$("#pay").append(html);
				payPopup = true;
			}
		};
	</script>
	<style>
		span {
			text-align: left;
			margin-top: 1.2rem;
			color: gray;
		}

		.left {
			width: 610px;
			display: flex;
		}

		td {
			width: 150px;
			padding: 0.8rem;
			font-size: 15px;
		}

		dl {
			margin-bottom: 0.1rem;
			padding-bottom: 0;
		}

		dd {
			margin-bottom: 0.2rem;
		}

	</style>

	
</head>

<body>

	<%- include ("../include/header.ejs") %>

    <div class="container">
        <div class="panel-heading row ">
            <h3 class="panel-title col-4">회원상세정보</h3>
			<div class="col-8" style="text-align: right; margin-top: 0.5rem;">
				<button class="btn btn-primary btn-sm" id="btn_update">정보변경</button>
				<button class="btn btn-primary btn-sm" id="btn_membership_fee">회비납부</button>
				<button class="btn btn-secondary btn-sm" id="btn_remove">삭제</button>
			</div>
		</div>

		<dl class="row"  style="margin-top: 1rem; border-top: 1px solid #DDD; padding-top: 0.5rem;">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">회원종류</dt>
					<dd class="col-sm-8 detail_data" data-field="member_type" data-format="formatMemberType"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">정회원여부</dt>
					<dd class="col-sm-8 detail_data" data-field="regular_yn" data-format="formatRegularYn"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">회원아이디</dt>
					<dd class="col-sm-8 detail_data" data-field="member_id"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">성명</dt>
					<dd class="col-sm-8 detail_data" data-field="name"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">생년월일</dt>
					<dd class="col-sm-8 detail_data" data-field="birthday" data-format="formatDate"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">가입일</dt>
					<dd class="col-sm-8 detail_data" data-field="register_date" data-format="formatDate"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">우편번호</dt>
					<dd class="col-sm-8 detail_data" data-field="zipcode"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">직업(소속)</dt>
					<dd class="col-sm-8 detail_data" data-field="job"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-12">
				<dl class="row">
					<dt class="col-sm-2">주소</dt>
					<dd class="col-sm-10 detail_data" data-field="address"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">전화번호</dt>
					<dd class="col-sm-8 detail_data" data-field="phone_home"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">휴대전화번호</dt>
					<dd class="col-sm-8 detail_data" data-field="phone_mobile"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">이메일</dt>
					<dd class="col-sm-8 detail_data" data-field="email"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">추천인</dt>
					<dd class="col-sm-8 detail_data" data-field="introducer" data-format="formatIntroducer"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row student">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">성별</dt>
					<dd class="col-sm-8 detail_data" data-field="gender" data-format="formatGender"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">학교</dt>
					<dd class="col-sm-8 detail_data" data-field="school"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row student">
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">학년</dt>
					<dd class="col-sm-8 detail_data" data-field="grade"></dd>
				</dl>
			</dd>
			<dd class="col-sm-6">
				<dl class="row">
					<dt class="col-sm-4">학반</dt>
					<dd class="col-sm-8 detail_data" data-field="class1"></dd>
				</dl>
			</dd>
		</dl>

		<dl class="row">
			<dd class="col-sm-12">
				<dl class="row">
					<dt class="col-sm-2">비고</dt>
					<dd class="col-sm-10 detail_data" data-field="note" data-format="formatLineBreak"></dd>
				</dl>
			</dd>
		</dl>

		<div class="panel-heading row" style="margin-top: 10px; border-top: 1px solid #DDD; padding-top: 5px;">
			<h5 class="panel-title col-4">회비 납부 현황</h5>
		</div>

		<div class="table-responsive" id="div_membership_fee">

		</div>

	</div>

	<div class="modal fade bd-example-modal-sm" id="modal_register" tabindex="-1" role="dialog" aria-labelledby="modal_register_label" aria-hidden="true">
		<div class="modal-dialog modal-sm" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="modal_register_label">회비 납부 등록</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form id="form_register" method="post" action="/rest/member/memberhsip_fee_register.do" onsubmit="return false;">
						<input type="hidden" name="memberSeq" value="">
						<input type="hidden" name="feeSeq" value="">
						<div class="form-group">
							<label for="txt_date" class="col-form-label">입금일</label>
							<input type="text" name="feeDate" class="form-control user_input_check" id="txt_date" data-rule="required" autocomplete="off">
						</div>
						<div class="form-group">
							<label for="txt_amount" class="col-form-label">입금액</label>
							<input type="text" name="amount" class="form-control user_input_check" id="txt_amount" data-rule="required integer" autocomplete="off">
						</div>
						<div class="form-group">
							<label for="cmb_year" class="col-form-label">년도</label>
							<select name="year" class="form-control user_input_check" id="cmb_year">
								<option value="2019">2019년</option>
								<option value="2020" selected="selected">2020년</option>
								<option value="2021">2021년</option>
							</select>
						</div>
						<div class="form-group">
							<label for="txt_type" class="col-form-label">납부 방법</label>
							<input type="text" name="type" class="form-control user_input_check" id="txt_type" autocomplete="off">
						</div>
						<div class="form-group">
							<label for="txt_note" class="col-form-label">비고</label>
							<textarea name="note" class="form-control user_input_check" id="txt_note" autocomplete="off"></textarea>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
					<button type="button" class="btn btn-primary btn_save">저장</button>
				</div>
			</div>
		</div>
	</div>

	<div id="div_icon" style="display: none;">
		<svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
			<path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
			<path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
		  </svg>
	</div>

	<%- include ("../include/footer.ejs") %>
</body>

</html>